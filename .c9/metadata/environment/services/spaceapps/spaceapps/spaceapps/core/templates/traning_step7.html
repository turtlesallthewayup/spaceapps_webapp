{"filter":false,"title":"traning_step7.html","tooltip":"/services/spaceapps/spaceapps/spaceapps/core/templates/traning_step7.html","undoManager":{"mark":3,"position":3,"stack":[[{"start":{"row":41,"column":0},"end":{"row":132,"column":9},"action":"remove","lines":["","<script>","","function handleError(error) {","  console.error('navigator.getUserMedia error: ', error);","}","const constraints = {video: true};","","(function() {","  const video = document.querySelector('#basic video');","  const captureVideoButton = document.querySelector('#basic .capture-button');","  let localMediaStream;","","  function handleSuccess(stream) {","    localMediaStream = stream;","    video.srcObject = stream;","  }","","  captureVideoButton.onclick = function() {","    navigator.mediaDevices.getUserMedia(constraints).","      then(handleSuccess).catch(handleError);","  };","","  document.querySelector('#stop-button').onclick = function() {","    video.pause();","    localMediaStream.stop();","  };","})();","","(function() {","  const captureVideoButton =","    document.querySelector('#screenshot .capture-button');","  const screenshotButton = document.querySelector('#screenshot-button');","  const img = document.querySelector('#screenshot img');","  const video = document.querySelector('#screenshot video');","","  const canvas = document.createElement('canvas');","","  captureVideoButton.onclick = function() {","    navigator.mediaDevices.getUserMedia(constraints).","      then(handleSuccess).catch(handleError);","  };","","  screenshotButton.onclick = video.onclick = function() {","    canvas.width = video.videoWidth;","    canvas.height = video.videoHeight;","    canvas.getContext('2d').drawImage(video, 0, 0);","    // Other browsers will fall back to image/png","    img.src = canvas.toDataURL('image/webp');","  };","","  function handleSuccess(stream) {","    screenshotButton.disabled = false;","    video.srcObject = stream;","  }","})();","","(function() {","  const captureVideoButton =","    document.querySelector('#cssfilters .capture-button');","  const cssFiltersButton = document.querySelector('#cssfilters-apply');","  const video = document.querySelector('#cssfilters video');","","  let filterIndex = 0;","  const filters = [","    'grayscale',","    'sepia',","    'blur',","    'brightness',","    'contrast',","    'hue-rotate',","    'hue-rotate2',","    'hue-rotate3',","    'saturate',","    'invert',","    ''","  ];","","  captureVideoButton.onclick = function() {","    navigator.mediaDevices.getUserMedia(constraints).","      then(handleSuccess).catch(handleError);","  };","","  cssFiltersButton.onclick = video.onclick = function() {","    video.className = filters[filterIndex++ % filters.length];","  };","","  function handleSuccess(stream) {","    video.srcObject = stream;","  }","})();","</script>"],"id":1}],[{"start":{"row":6,"column":1},"end":{"row":6,"column":45},"action":"insert","lines":["<input id=\"label\" type=\"hidden\" value=\"1\" />"],"id":2}],[{"start":{"row":6,"column":40},"end":{"row":6,"column":41},"action":"remove","lines":["1"],"id":3}],[{"start":{"row":6,"column":40},"end":{"row":6,"column":41},"action":"insert","lines":["7"],"id":4}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":10,"column":25},"end":{"row":10,"column":25},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1571546578219,"hash":"e080b05ba414e26375e0e49ddf732f8e4d65f8a5"}