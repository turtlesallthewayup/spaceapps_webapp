{"filter":false,"title":"traning_step6.html","tooltip":"/services/spaceapps/spaceapps/spaceapps/core/templates/traning_step6.html","undoManager":{"mark":23,"position":23,"stack":[[{"start":{"row":0,"column":0},"end":{"row":168,"column":14},"action":"insert","lines":["{% extends 'base.html' %}","{% load static %}","{% block content %}","","<body>","\t<!-- Team Section -->","\t","\t\t","\t<div class=\"team-section spad\">","\t\t<div class=\"overlay\"></div>","\t\t<div class=\"container\">","\t\t\t<div class=\"section-title\">","\t\t\t\t<h2>Qual o movimento de ligar ?</h2>","\t\t\t</div>","\t\t\t<div class=\"row\">","          <div id=\"basic\" style=\"text-align:center;\">","              <video class=\"videostream \" autoplay=\"\" style=\"width:80%;height:400px;\"></video>","                  <div class=\"text-center\">","  \t\t\t\t    <p><button class=\"capture-button site-btn text-center\">Gravar</button>","  \t\t\t\t        <button id=\"stop-button\" class=\"site-btn text-center\" >Stop</button></p>","  \t\t\t\t</div>","          </div>","\t\t\t</div>","\t\t</div>","\t</div>","\t<!-- Team Section end-->","","","\t<!-- Promotion section -->","\t<div class=\"promotion-section\">","\t\t<div class=\"container\">","\t\t\t<div class=\"row\">","\t\t\t\t<div class=\"col-md-9\">","\t\t\t\t\t<h2>Você precisa !</h2>","\t\t\t\t\t<p>Grave a seguir as direções de movimentação</p>","\t\t\t\t</div>","\t\t\t\t<div class=\"col-md-3\">","\t\t\t\t\t<div class=\"promo-btn-area\">","\t\t\t\t\t\t<a href=\"{% url 'core:traning_step2' %}\" class=\"site-btn btn-2\">Próximo</a>","\t\t\t\t\t</div>","\t\t\t\t</div>","\t\t\t</div>","\t\t</div>","\t</div>","\t<!-- Promotion section end-->","</body>","","{% endblock %}","{% block script %}","","<script>","","","$(document).ready(function(){","   $('.capture-button').on('click', function (e) {","        console.log(\"estou funcionando\")","       ","        $('.videostream').show();","        $('.capture-button').hide();","        $('#stop-button').show();","        $('#stop-button').on('click', function () {","           //laço de fotos","        });","    });  ","   $( \".item-menu\" ).removeClass( \"active\" );","   $( \".menu-treino\" ).addClass( \"active\" );","   $('.videostream').hide();","   $('#stop-button').hide();","      ","  ","  ","  ","  ","});","","  ","</script>","<script>","","function handleError(error) {","  console.error('navigator.getUserMedia error: ', error);","}","const constraints = {video: true};","","(function() {","  const video = document.querySelector('#basic video');","  const captureVideoButton = document.querySelector('#basic .capture-button');","  let localMediaStream;","","  function handleSuccess(stream) {","    localMediaStream = stream;","    video.srcObject = stream;","  }","","  captureVideoButton.onclick = function() {","    navigator.mediaDevices.getUserMedia(constraints).","      then(handleSuccess).catch(handleError);","  };","","  document.querySelector('#stop-button').onclick = function() {","    video.pause();","    localMediaStream.stop();","  };","})();","","(function() {","  const captureVideoButton =","    document.querySelector('#screenshot .capture-button');","  const screenshotButton = document.querySelector('#screenshot-button');","  const img = document.querySelector('#screenshot img');","  const video = document.querySelector('#screenshot video');","","  const canvas = document.createElement('canvas');","","  captureVideoButton.onclick = function() {","    navigator.mediaDevices.getUserMedia(constraints).","      then(handleSuccess).catch(handleError);","  };","","  screenshotButton.onclick = video.onclick = function() {","    canvas.width = video.videoWidth;","    canvas.height = video.videoHeight;","    canvas.getContext('2d').drawImage(video, 0, 0);","    // Other browsers will fall back to image/png","    img.src = canvas.toDataURL('image/webp');","  };","","  function handleSuccess(stream) {","    screenshotButton.disabled = false;","    video.srcObject = stream;","  }","})();","","(function() {","  const captureVideoButton =","    document.querySelector('#cssfilters .capture-button');","  const cssFiltersButton = document.querySelector('#cssfilters-apply');","  const video = document.querySelector('#cssfilters video');","","  let filterIndex = 0;","  const filters = [","    'grayscale',","    'sepia',","    'blur',","    'brightness',","    'contrast',","    'hue-rotate',","    'hue-rotate2',","    'hue-rotate3',","    'saturate',","    'invert',","    ''","  ];","","  captureVideoButton.onclick = function() {","    navigator.mediaDevices.getUserMedia(constraints).","      then(handleSuccess).catch(handleError);","  };","","  cssFiltersButton.onclick = video.onclick = function() {","    video.className = filters[filterIndex++ % filters.length];","  };","","  function handleSuccess(stream) {","    video.srcObject = stream;","  }","})();","</script>","{% endblock %}"],"id":1}],[{"start":{"row":12,"column":28},"end":{"row":12,"column":33},"action":"remove","lines":["ligar"],"id":2},{"start":{"row":12,"column":28},"end":{"row":12,"column":29},"action":"insert","lines":["d"]},{"start":{"row":12,"column":29},"end":{"row":12,"column":30},"action":"insert","lines":["i"]},{"start":{"row":12,"column":30},"end":{"row":12,"column":31},"action":"insert","lines":["r"]},{"start":{"row":12,"column":31},"end":{"row":12,"column":32},"action":"insert","lines":["e"]},{"start":{"row":12,"column":32},"end":{"row":12,"column":33},"action":"insert","lines":["i"]},{"start":{"row":12,"column":33},"end":{"row":12,"column":34},"action":"insert","lines":["t"]},{"start":{"row":12,"column":34},"end":{"row":12,"column":35},"action":"insert","lines":["a"]}],[{"start":{"row":12,"column":34},"end":{"row":12,"column":35},"action":"remove","lines":["a"],"id":3},{"start":{"row":12,"column":33},"end":{"row":12,"column":34},"action":"remove","lines":["t"]},{"start":{"row":12,"column":32},"end":{"row":12,"column":33},"action":"remove","lines":["i"]},{"start":{"row":12,"column":31},"end":{"row":12,"column":32},"action":"remove","lines":["e"]},{"start":{"row":12,"column":30},"end":{"row":12,"column":31},"action":"remove","lines":["r"]},{"start":{"row":12,"column":29},"end":{"row":12,"column":30},"action":"remove","lines":["i"]},{"start":{"row":12,"column":28},"end":{"row":12,"column":29},"action":"remove","lines":["d"]}],[{"start":{"row":12,"column":28},"end":{"row":12,"column":29},"action":"insert","lines":["f"],"id":4},{"start":{"row":12,"column":29},"end":{"row":12,"column":30},"action":"insert","lines":["r"]},{"start":{"row":12,"column":30},"end":{"row":12,"column":31},"action":"insert","lines":["e"]},{"start":{"row":12,"column":31},"end":{"row":12,"column":32},"action":"insert","lines":["n"]},{"start":{"row":12,"column":32},"end":{"row":12,"column":33},"action":"insert","lines":["t"]},{"start":{"row":12,"column":33},"end":{"row":12,"column":34},"action":"insert","lines":["e"]}],[{"start":{"row":38,"column":40},"end":{"row":38,"column":41},"action":"remove","lines":["2"],"id":5}],[{"start":{"row":38,"column":40},"end":{"row":38,"column":41},"action":"insert","lines":["7"],"id":6}],[{"start":{"row":50,"column":0},"end":{"row":76,"column":9},"action":"remove","lines":["<script>","","","$(document).ready(function(){","   $('.capture-button').on('click', function (e) {","        console.log(\"estou funcionando\")","       ","        $('.videostream').show();","        $('.capture-button').hide();","        $('#stop-button').show();","        $('#stop-button').on('click', function () {","           //laço de fotos","        });","    });  ","   $( \".item-menu\" ).removeClass( \"active\" );","   $( \".menu-treino\" ).addClass( \"active\" );","   $('.videostream').hide();","   $('#stop-button').hide();","      ","  ","  ","  ","  ","});","","  ","</script>"],"id":7},{"start":{"row":49,"column":0},"end":{"row":50,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":19,"column":82},"end":{"row":20,"column":0},"action":"insert","lines":["",""],"id":8},{"start":{"row":20,"column":0},"end":{"row":20,"column":14},"action":"insert","lines":["  \t\t\t\t        "]}],[{"start":{"row":20,"column":14},"end":{"row":20,"column":107},"action":"insert","lines":[" <a href=\"{% url 'core:traning_step6' %}\" id=\"next\" class=\"site-btn text-center\" >Próximo</a>"],"id":9}],[{"start":{"row":20,"column":18},"end":{"row":20,"column":55},"action":"remove","lines":["href=\"{% url 'core:traning_step6' %}\""],"id":10},{"start":{"row":20,"column":18},"end":{"row":20,"column":55},"action":"insert","lines":["href=\"{% url 'core:traning_step7' %}\""]}],[{"start":{"row":30,"column":0},"end":{"row":44,"column":7},"action":"remove","lines":["\t<div class=\"promotion-section\">","\t\t<div class=\"container\">","\t\t\t<div class=\"row\">","\t\t\t\t<div class=\"col-md-9\">","\t\t\t\t\t<h2>Você precisa !</h2>","\t\t\t\t\t<p>Grave a seguir as direções de movimentação</p>","\t\t\t\t</div>","\t\t\t\t<div class=\"col-md-3\">","\t\t\t\t\t<div class=\"promo-btn-area\">","\t\t\t\t\t\t<a href=\"{% url 'core:traning_step7' %}\" class=\"site-btn btn-2\">Próximo</a>","\t\t\t\t\t</div>","\t\t\t\t</div>","\t\t\t</div>","\t\t</div>","\t</div>"],"id":11},{"start":{"row":29,"column":27},"end":{"row":30,"column":0},"action":"remove","lines":["",""]},{"start":{"row":29,"column":26},"end":{"row":29,"column":27},"action":"remove","lines":[">"]}],[{"start":{"row":29,"column":0},"end":{"row":30,"column":30},"action":"remove","lines":["\t<!-- Promotion section --","\t<!-- Promotion section end-->"],"id":12},{"start":{"row":28,"column":0},"end":{"row":29,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":20,"column":107},"end":{"row":21,"column":0},"action":"insert","lines":["",""],"id":13},{"start":{"row":21,"column":0},"end":{"row":21,"column":15},"action":"insert","lines":["  \t\t\t\t         "]},{"start":{"row":21,"column":15},"end":{"row":22,"column":0},"action":"insert","lines":["",""]},{"start":{"row":22,"column":0},"end":{"row":22,"column":15},"action":"insert","lines":["  \t\t\t\t         "]}],[{"start":{"row":21,"column":15},"end":{"row":21,"column":110},"action":"insert","lines":["<a href=\"{% url 'core:traning_step1' %}\"  id=\"again\" class=\"site-btn text-center\">Recomeçar</a>"],"id":14}],[{"start":{"row":21,"column":49},"end":{"row":21,"column":50},"action":"remove","lines":["1"],"id":15}],[{"start":{"row":21,"column":49},"end":{"row":21,"column":50},"action":"insert","lines":["6"],"id":16}],[{"start":{"row":19,"column":14},"end":{"row":19,"column":82},"action":"remove","lines":["<button id=\"stop-button\" class=\"site-btn text-center\" >Stop</button>"],"id":17},{"start":{"row":19,"column":14},"end":{"row":19,"column":83},"action":"insert","lines":["<button id=\"stop-button\" class=\"site-btn text-center\" >00:05</button>"]}],[{"start":{"row":35,"column":0},"end":{"row":38,"column":0},"action":"insert","lines":["<script>","  execCam();","</script>",""],"id":18}],[{"start":{"row":38,"column":0},"end":{"row":129,"column":9},"action":"remove","lines":["","<script>","","function handleError(error) {","  console.error('navigator.getUserMedia error: ', error);","}","const constraints = {video: true};","","(function() {","  const video = document.querySelector('#basic video');","  const captureVideoButton = document.querySelector('#basic .capture-button');","  let localMediaStream;","","  function handleSuccess(stream) {","    localMediaStream = stream;","    video.srcObject = stream;","  }","","  captureVideoButton.onclick = function() {","    navigator.mediaDevices.getUserMedia(constraints).","      then(handleSuccess).catch(handleError);","  };","","  document.querySelector('#stop-button').onclick = function() {","    video.pause();","    localMediaStream.stop();","  };","})();","","(function() {","  const captureVideoButton =","    document.querySelector('#screenshot .capture-button');","  const screenshotButton = document.querySelector('#screenshot-button');","  const img = document.querySelector('#screenshot img');","  const video = document.querySelector('#screenshot video');","","  const canvas = document.createElement('canvas');","","  captureVideoButton.onclick = function() {","    navigator.mediaDevices.getUserMedia(constraints).","      then(handleSuccess).catch(handleError);","  };","","  screenshotButton.onclick = video.onclick = function() {","    canvas.width = video.videoWidth;","    canvas.height = video.videoHeight;","    canvas.getContext('2d').drawImage(video, 0, 0);","    // Other browsers will fall back to image/png","    img.src = canvas.toDataURL('image/webp');","  };","","  function handleSuccess(stream) {","    screenshotButton.disabled = false;","    video.srcObject = stream;","  }","})();","","(function() {","  const captureVideoButton =","    document.querySelector('#cssfilters .capture-button');","  const cssFiltersButton = document.querySelector('#cssfilters-apply');","  const video = document.querySelector('#cssfilters video');","","  let filterIndex = 0;","  const filters = [","    'grayscale',","    'sepia',","    'blur',","    'brightness',","    'contrast',","    'hue-rotate',","    'hue-rotate2',","    'hue-rotate3',","    'saturate',","    'invert',","    ''","  ];","","  captureVideoButton.onclick = function() {","    navigator.mediaDevices.getUserMedia(constraints).","      then(handleSuccess).catch(handleError);","  };","","  cssFiltersButton.onclick = video.onclick = function() {","    video.className = filters[filterIndex++ % filters.length];","  };","","  function handleSuccess(stream) {","    video.srcObject = stream;","  }","})();","</script>"],"id":18}],[{"start":{"row":12,"column":26},"end":{"row":12,"column":27},"action":"remove","lines":["e"],"id":20},{"start":{"row":12,"column":25},"end":{"row":12,"column":26},"action":"remove","lines":["d"]}],[{"start":{"row":12,"column":25},"end":{"row":12,"column":26},"action":"insert","lines":["p"],"id":21},{"start":{"row":12,"column":26},"end":{"row":12,"column":27},"action":"insert","lines":["a"]},{"start":{"row":12,"column":27},"end":{"row":12,"column":28},"action":"insert","lines":["r"]},{"start":{"row":12,"column":28},"end":{"row":12,"column":29},"action":"insert","lines":["a"]}],[{"start":{"row":6,"column":1},"end":{"row":6,"column":45},"action":"insert","lines":["<input id=\"label\" type=\"hidden\" value=\"1\" />"],"id":22}],[{"start":{"row":6,"column":40},"end":{"row":6,"column":41},"action":"remove","lines":["1"],"id":23}],[{"start":{"row":6,"column":40},"end":{"row":6,"column":41},"action":"insert","lines":["6"],"id":24}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":6,"column":41},"end":{"row":6,"column":41},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1571546558018,"hash":"e65312238d75e91a5e77899411a428fe4d579295"}