{"filter":false,"title":"dev.conf","tooltip":"/services/nginx/dev.conf","undoManager":{"mark":3,"position":3,"stack":[[{"start":{"row":0,"column":0},"end":{"row":57,"column":0},"action":"insert","lines":["server {","    client_max_body_size 500M;","    listen 80;","","    location / {","        proxy_set_header    Host $host;","        proxy_set_header    X-Real-IP $remote_addr;","        proxy_set_header    X-Forwarded-For $proxy_add_x_forwarded_for;","        proxy_set_header    X-Forwarded-Host $server_name;","        ","        return 301 https://$host$request_uri;","    }","    ","    location /.well-known/acme-challenge/ {","       root /var/www/certbot;","    }","","}","","server {","    client_max_body_size 50M;","    listen 443 ssl;","    server_name estuda.ai;","","    ssl_certificate /etc/letsencrypt/live/estuda.ai/fullchain.pem;","    ssl_certificate_key /etc/letsencrypt/live/estuda.ai/privkey.pem;","    include /etc/letsencrypt/options-ssl-nginx.conf;","    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem;","","    location / {","        proxy_pass          http://portal:8000;","        proxy_redirect      default;","        proxy_set_header    Host $host;","        proxy_set_header    X-Real-IP $remote_addr;","        proxy_set_header    X-Forwarded-For $proxy_add_x_forwarded_for;","        proxy_set_header    X-Forwarded-Host $server_name;","    }","    ","    location /static/ {","        alias /static/;","    }","    ","    location /media {","        alias /media/;","    }","    ","    location /my_secure_admin {","        proxy_pass          http://portal:8000;","        proxy_redirect      default;","        proxy_set_header    Host $host;","        proxy_set_header    X-Real-IP $remote_addr;","        proxy_set_header    X-Forwarded-For $proxy_add_x_forwarded_for;","        proxy_set_header    X-Forwarded-Host $server_name;","    }","    ","    ","}",""],"id":1}],[{"start":{"row":30,"column":35},"end":{"row":30,"column":41},"action":"remove","lines":["portal"],"id":2},{"start":{"row":30,"column":35},"end":{"row":30,"column":36},"action":"insert","lines":["s"]},{"start":{"row":30,"column":36},"end":{"row":30,"column":37},"action":"insert","lines":["p"]},{"start":{"row":30,"column":37},"end":{"row":30,"column":38},"action":"insert","lines":["a"]},{"start":{"row":30,"column":38},"end":{"row":30,"column":39},"action":"insert","lines":["c"]},{"start":{"row":30,"column":39},"end":{"row":30,"column":40},"action":"insert","lines":["e"]},{"start":{"row":30,"column":40},"end":{"row":30,"column":41},"action":"insert","lines":["a"]},{"start":{"row":30,"column":41},"end":{"row":30,"column":42},"action":"insert","lines":["p"]}],[{"start":{"row":30,"column":42},"end":{"row":30,"column":43},"action":"insert","lines":["p"],"id":3},{"start":{"row":30,"column":43},"end":{"row":30,"column":44},"action":"insert","lines":["s"]}],[{"start":{"row":47,"column":35},"end":{"row":47,"column":41},"action":"remove","lines":["portal"],"id":4},{"start":{"row":47,"column":35},"end":{"row":47,"column":44},"action":"insert","lines":["spaceapps"]}]]},"ace":{"folds":[],"scrolltop":471.5,"scrollleft":0,"selection":{"start":{"row":51,"column":36},"end":{"row":51,"column":36},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":32,"state":"start","mode":"ace/mode/ini"}},"timestamp":1571485714415,"hash":"f47738b2a1c616f68e6923dcf62cf08cf26af696"}