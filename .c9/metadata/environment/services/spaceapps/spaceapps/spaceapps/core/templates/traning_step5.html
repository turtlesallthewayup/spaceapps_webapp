{"filter":false,"title":"traning_step5.html","tooltip":"/services/spaceapps/spaceapps/spaceapps/core/templates/traning_step5.html","undoManager":{"mark":5,"position":5,"stack":[[{"start":{"row":41,"column":0},"end":{"row":131,"column":9},"action":"remove","lines":["<script>","","function handleError(error) {","  console.error('navigator.getUserMedia error: ', error);","}","const constraints = {video: true};","","(function() {","  const video = document.querySelector('#basic video');","  const captureVideoButton = document.querySelector('#basic .capture-button');","  let localMediaStream;","","  function handleSuccess(stream) {","    localMediaStream = stream;","    video.srcObject = stream;","  }","","  captureVideoButton.onclick = function() {","    navigator.mediaDevices.getUserMedia(constraints).","      then(handleSuccess).catch(handleError);","  };","","  document.querySelector('#stop-button').onclick = function() {","    video.pause();","    localMediaStream.stop();","  };","})();","","(function() {","  const captureVideoButton =","    document.querySelector('#screenshot .capture-button');","  const screenshotButton = document.querySelector('#screenshot-button');","  const img = document.querySelector('#screenshot img');","  const video = document.querySelector('#screenshot video');","","  const canvas = document.createElement('canvas');","","  captureVideoButton.onclick = function() {","    navigator.mediaDevices.getUserMedia(constraints).","      then(handleSuccess).catch(handleError);","  };","","  screenshotButton.onclick = video.onclick = function() {","    canvas.width = video.videoWidth;","    canvas.height = video.videoHeight;","    canvas.getContext('2d').drawImage(video, 0, 0);","    // Other browsers will fall back to image/png","    img.src = canvas.toDataURL('image/webp');","  };","","  function handleSuccess(stream) {","    screenshotButton.disabled = false;","    video.srcObject = stream;","  }","})();","","(function() {","  const captureVideoButton =","    document.querySelector('#cssfilters .capture-button');","  const cssFiltersButton = document.querySelector('#cssfilters-apply');","  const video = document.querySelector('#cssfilters video');","","  let filterIndex = 0;","  const filters = [","    'grayscale',","    'sepia',","    'blur',","    'brightness',","    'contrast',","    'hue-rotate',","    'hue-rotate2',","    'hue-rotate3',","    'saturate',","    'invert',","    ''","  ];","","  captureVideoButton.onclick = function() {","    navigator.mediaDevices.getUserMedia(constraints).","      then(handleSuccess).catch(handleError);","  };","","  cssFiltersButton.onclick = video.onclick = function() {","    video.className = filters[filterIndex++ % filters.length];","  };","","  function handleSuccess(stream) {","    video.srcObject = stream;","  }","})();","</script>"],"id":1},{"start":{"row":40,"column":0},"end":{"row":41,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":12,"column":26},"end":{"row":12,"column":27},"action":"remove","lines":["e"],"id":3},{"start":{"row":12,"column":25},"end":{"row":12,"column":26},"action":"remove","lines":["d"]}],[{"start":{"row":12,"column":25},"end":{"row":12,"column":26},"action":"insert","lines":["p"],"id":4},{"start":{"row":12,"column":26},"end":{"row":12,"column":27},"action":"insert","lines":["a"]},{"start":{"row":12,"column":27},"end":{"row":12,"column":28},"action":"insert","lines":["r"]},{"start":{"row":12,"column":28},"end":{"row":12,"column":29},"action":"insert","lines":["a"]}],[{"start":{"row":6,"column":1},"end":{"row":6,"column":45},"action":"insert","lines":["<input id=\"label\" type=\"hidden\" value=\"1\" />"],"id":5}],[{"start":{"row":6,"column":40},"end":{"row":6,"column":41},"action":"remove","lines":["1"],"id":6}],[{"start":{"row":6,"column":40},"end":{"row":6,"column":41},"action":"insert","lines":["5"],"id":7}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":6,"column":41},"end":{"row":6,"column":41},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1571546548480,"hash":"ea54ecfa34c7981d56c835956a144961e17ea560"}